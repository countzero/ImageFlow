/*
Name:       ImageFlow
Version:    1.0.2 (November 10 2008)
Author:     Finn Rudolph
Support:    http://finnrudolph.de/ImageFlow

Licence:    ImageFlow is licensed under a Creative Commons 
            Attribution-Noncommercial 3.0 Unported License 
            (http://creativecommons.org/licenses/by-nc/3.0/).

            You are free:
                + to Share — to copy, distribute and transmit the work
                + to Remix — to adapt the work

            Under the following conditions:
                + Attribution. You must attribute the work in the manner specified by the author or licensor 
                  (but not in any way that suggests that they endorse you or your use of the work). 
                + Noncommercial. You may not use this work for commercial purposes. 

            + For any reuse or distribution, you must make clear to others the license terms of this work.
            + Any of the above conditions can be waived if you get permission from the copyright holder.
            + Nothing in this license impairs or restricts the author's moral rights.

Credits:    This script is based on Michael L. Perrys Cover flow in Javascript [1].
            The reflections are generated server-sided by a slightly hacked version 
            of Richard Daveys easyreflections [2] written in PHP. The mouse wheel 
            support is an implementation of Adomas Paltanavicius JavaScript mouse 
            wheel code [3]. It also uses the domReadyEvent from Tanny O'Haley [4].

            [1] http://www.adventuresinsoftware.com/blog/?p=104#comment-1981
            [2] http://reflection.corephp.co.uk/v2.php
            [3] http://adomas.org/javascript-mouse-wheel/
            [4] http://tanny.ica.com/ICA/TKO/tkoblog.nsf/dx/domcontentloaded-for-browsers-part-v
*/

/* Packed ImageFlow constructor and DOMContentLoaded event handler */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('s 3W(){7.2r={D:\'3z\',2j:u,1M:u,1g:0.5,2i:y,28:\'\',25:4,1r:1.0,2l:\'1v\',27:1,2m:y,1t:u,2t:\'e-3G\',1m:14,19:3l,2p:u,1e:y,1p:[10,8,6,4,2],2w:s(){t.3T=7.2d}};r q=7;7.1d=s(a){r b=3f 3M(\'D\',\'2j\',\'1M\',\'1g\',\'2i\',\'28\',\'25\',\'1r\',\'2l\',\'27\',\'2m\',\'1t\',\'2t\',\'1m\',\'19\',\'2p\',\'1e\',\'1p\',\'2w\');r c=b.1n;Y(r i=0;i<c;i++){r d=b[i];7[d]=(a!==1R&&a[d]!==1R)?a[d]:q.2r[d]}r e=t.J(q.D);9(e){e.v.1J=\'2h\';7.H=e;9(7.2G()){7.F=t.J(q.D+\'2E\');7.1G=t.J(q.D+\'2M\');7.1B=t.J(q.D+\'2e\');7.1X=t.J(q.D+\'2y\');7.1Z=[];7.16=0;7.13=0;7.1s=0;7.1C=0;7.1D=u;7.1E=u;7.P=y;9(7.1t===y){7.1B.v.1y=\'1S\'}r f=7.H.2B;r g=N.Q(f*0.3C);t.J(q.D+\'20\').v.3N=((g*0.5)-22)+\'I\';e.v.17=g+\'I\';7.24()}}};7.2G=s(){r a=t.18(\'1f\');a.C(\'12\',q.D+\'2E\');a.C(\'1i\',\'2u\');a.C(\'1k\',\'2u\');r b=K;r c=7.H.E.1n;Y(r d=0;d<c;d++){b=7.H.E[d];9(b&&b.1N==1&&b.21==\'23\'){9(q.1M===u){r e=\'2\';9(q.2i===u){e=\'3\'}r f=b.1a(\'2g\',2);f=\'3O\'+e+\'.3j?44=\'+f+q.28;b.C(\'2g\',f)}r g=b.3J(u);a.R(g)}}r h=t.18(\'p\');r i=t.2z(\' \');h.C(\'12\',q.D+\'20\');h.R(i);r j=t.18(\'1f\');j.C(\'12\',q.D+\'31\');j.C(\'1i\',\'26\');j.C(\'1k\',\'26\');r k=t.18(\'1f\');k.C(\'12\',q.D+\'2J\');k.C(\'1i\',\'2W\');k.C(\'1k\',\'2W\');j.R(k);r l=t.18(\'1f\');l.C(\'12\',q.D+\'2M\');l.C(\'1i\',\'2Y\');l.C(\'1k\',\'2Y\');r m=t.18(\'1f\');m.C(\'12\',q.D+\'2e\');m.C(\'1i\',\'2x\');m.C(\'1k\',\'2x\');r n=t.18(\'1f\');n.C(\'12\',q.D+\'2y\');n.C(\'1i\',\'1t\');n.C(\'1k\',\'1t\');m.R(n);r o=y;9(q.H.R(a)&&q.H.R(h)&&q.H.R(j)&&q.H.R(l)&&q.H.R(m)){Y(d=0;d<c;d++){b=7.H.E[d];9(b&&b.1N==1&&b.21==\'23\'){7.H.3Y(b)}}o=u}U o};7.24=s(){r p=q.2F();9(p<V||q.1E===u&&q.2j===u){9(q.1E===u&&p==V){q.1E=y;B.15(q.24,V)}G{B.15(q.24,40)}}G{t.J(q.D+\'20\').v.1y=\'1S\';t.J(q.D+\'31\').v.1y=\'1S\';B.15(q.3b,3r);B.3y=s(){t=K};q.38();q.A.1d();q.1O.1d();q.1Q(u);t.J(q.D+\'2e\').v.1J=\'2h\';r a=q.27-1;9(a<0){a=0}9(a>q.S){a=q.S-1}q.1o(a);9(q.2m===u){q.1U(47)}}};7.2F=s(){r a=q.F.E.1n;r i=0,1W=0;r b=K;Y(r c=0;c<a;c++){b=q.F.E[c];9(b&&b.1N==1&&b.21==\'23\'){9(b.2s===u){1W++}i++}}r d=N.Q((1W/i)*V);r e=t.J(q.D+\'2J\');e.v.1c=d+\'%\';r f=t.J(q.D+\'20\');r g=t.2z(\'26 2u \'+1W+\'/\'+i);f.3x(g,f.3h);U d};7.1Q=s(){7.O=q.F.2B;7.1Y=N.Q(q.O*0.48);7.2f=q.25*q.19;7.1l=q.O*0.5;7.1j=N.Q(q.O*0.6);7.1m=q.1m*0.5;q.H.v.17=q.1Y+\'I\';q.F.v.17=N.Q(q.O*0.3p)+\'I\';q.1G.v.1c=q.O+\'I\';q.1G.v.3c=N.Q(q.O*0.3v)+\'I\';q.1B.v.1c=q.1j+\'I\';q.1B.v.3c=N.Q(q.O*0.3w)+\'I\';q.1B.v.2S=N.Q(q.O*0.2)+\'I\';q.1X.v.2U=q.2t;q.1X.3E=s(){q.A.2V(7);U y};r a=(q.1M===u)?q.1g+1:1;r b=q.F.E.1n;r i=0;r c=K;Y(r d=0;d<b;d++){c=q.F.E[d];9(c!==K&&c.1N==1&&c.21==\'23\'){7.1Z[i]=d;c.2d=c.1a(\'3I\');c.3L=(-i*q.19);c.i=i;9(q.1D){9(c.1a(\'1c\')!==K&&c.1a(\'17\')!==K){c.w=c.1a(\'1c\');c.h=c.1a(\'17\')*a}G{c.w=c.1c;c.h=c.17}}9((c.w)>(c.h/(q.1g+1))){c.W=2T;c.1P=2T}G{c.W=V;c.1P=V}c.v.2U=q.2l;i++}}7.S=q.1Z.1n;9(q.1D){q.1D=y}q.1U(q.16);q.1o(q.13)};7.1U=s(x){7.16=x;7.X=q.S;Y(r a=0;a<q.S;a++){r b=q.F.E[q.1Z[a]];r c=a*-q.19;9((c+q.2f)<q.1C||(c-q.2f)>q.1C){b.v.1J=\'45\';b.v.1y=\'1S\'}G{r z=N.4d(4g+x*x)+V;r d=x/z*q.1l+q.1l;b.v.1y=\'3m\';r e=(b.h/b.w*b.W)/z*q.1l;r f=0;1w(e>q.1Y){1h y:f=b.W/z*q.1l;M;1v:e=q.1Y;f=b.w*e/b.h;M}r g=(q.O*0.34-e)+((e/(q.1g+1))*q.1g);b.v.30=d-(b.W/2)/z*q.1l+\'I\';9(f&&e){b.v.17=e+\'I\';b.v.1c=f+\'I\';b.v.3Q=g+\'I\'}b.v.1J=\'2h\';1w(x<0){1h u:7.X++;M;1v:7.X=q.X-1;M}1w(b.i==q.13){1h y:b.2N=s(){q.1o(7.i)};M;1v:7.X=q.X+1;9(b.2d!==\'\'){b.2N=q.2w}M}b.v.X=q.X}x+=q.19}};7.1o=s(a){r x=-a*q.19;7.1s=x;7.1C=x;7.13=a;r b=q.F.E[a].1a(\'3X\');9(b===\'\'||q.2p===y){b=\'&42;\'}q.1G.3k=b;9(q.A.P===y){7.Z=(a*q.1j)/(q.S-1)-q.A.2k;q.1X.v.2S=(q.Z-q.1m)+\'I\'}9(q.1e===u||q.1r!==q.2r.1r){q.1T(q.F.E[a],q.1p[0]);q.F.E[a].W=q.F.E[a].W*q.1r;r c=0;r d=0;r e=0;r f=q.1p.1n;Y(r i=1;i<(q.25+1);i++){9((i+1)>f){c=q.1p[f-1]}G{c=q.1p[i]}d=a+i;e=a-i;9(d<q.S){q.1T(q.F.E[d],c);q.F.E[d].W=q.F.E[d].1P}9(e>=0){q.1T(q.F.E[e],c);q.F.E[e].W=q.F.E[e].1P}}}9(q.P===y){B.15(q.2o,2A);q.P=u}};7.2o=s(){1w(q.1s<q.16-1||q.1s>q.16+1){1h u:q.1U(q.16+(q.1s-q.16)/3);B.15(q.2o,2A);q.P=u;M;1v:q.P=y;M}};7.1T=s(a,b){9(q.1e===u){a.v.1e=b/10;a.v.3d=\'3e(1e=\'+b*10+\')\'}};7.38=s(){9(B.11){q.H.11(\'3g\',q.2q,y)}q.H.3n=q.2q};7.2q=s(a){r b=0;9(!a){a=B.1H}9(a.2I){b=a.2I/3t}G 9(a.2K){b=-a.2K/3}9(b){q.1V(b)}9(a.2O){a.2O()}a.3A=y};7.1V=s(a){r b=y;r c=0;9(a>0){9(q.13>=1){c=q.13-1;b=u}}G{9(q.13<(q.S-1)){c=q.13+1;b=u}}9(b===u){q.1o(c)}};7.A={1x:K,2v:0,1L:0,2k:0,P:y,1d:s(){q.1q(q.H,\'3K\',q.A.2X);q.1q(q.H,\'2Z\',q.A.2b);q.1q(t,\'2Z\',q.A.2b);q.H.3P=s(){r a=u;9(q.A.P===u){a=y}U a}},2V:s(o){q.A.1x=o;q.A.2v=q.A.1L-o.3R+q.Z},2b:s(){q.A.1x=K;q.A.P=y},2X:s(e){r a=0;9(!e){e=B.1H}9(e.33){a=e.33}G 9(e.36){a=e.36+t.2n.2P+t.41.2P}q.A.1L=a;9(q.A.1x!==K){r b=(q.A.1L-q.A.2v)+q.1m;9(b<(-q.Z)){b=-q.Z}9(b>(q.1j-q.Z)){b=q.1j-q.Z}r c=(b+q.Z)/(q.1j/(q.S-1));r d=N.Q(c);q.A.2k=b;q.A.1x.v.30=b+\'I\';q.1o(d);q.A.P=u}}};7.1O={1d:s(){t.43=s(a){q.1O.2D(a)}},2D:s(a){r b=q.1O.2R(a);1w(b){1h 39:q.1V(-1);M;1h 37:q.1V(1);M}},2R:s(a){a=a||B.1H;U a.4b}};7.1q=s(a,b,c){9(a.11){a.11(b,c,y)}G 9(a.2H){a["e"+b+c]=c;a[b+c]=s(){a["e"+b+c](B.1H)};a.2H("4f"+b,a[b+c])}};7.3b=s(){r a=B.1F;9(1z B.1F!=\'s\'){B.1F=s(){q.1Q()}}G{B.1F=s(){9(a){a()}q.1Q()}}}}r T={2c:"T",1u:{},1b:1,1A:y,2a:K,2L:s(a){9(!a.$$1b){a.$$1b=7.1b++;9(7.1A){a()}7.1u[a.$$1b]=a}},3o:s(a){9(a.$$1b){3S 7.1u[a.$$1b]}},L:s(){9(7.1A){U}7.1A=u;Y(r i 3U 7.1u){7.1u[i]()}},1I:s(){9(7.1A){U}9(/3V|3B/i.2C(3q.3Z)){9(/3D|2s/.2C(t.32)){7.L()}G{15(7.2c+".1I()",V)}}G 9(t.J("29")){U u}9(1z 7.2a==="s"){9(1z t.35!==\'1R\'&&(t.35(\'2n\')[0]!==K||t.2n!==K)){9(7.2a()){7.L()}G{15(7.2c+".1I()",3F)}}}U u},1d:s(){9(t.11){t.11("46",s(){T.L()},y)}15("T.1I()",V);s L(){T.L()}9(1z 1q!=="1R"){1q(B,"2Q",L)}G 9(t.11){t.11("2Q",L,y)}G 9(1z B.1K==="s"){r a=B.1K;B.1K=s(){T.L();a()}}G{B.1K=L}/*@3H@9(@49||@3i)t.4a("<3a 12=29 4c 2g=\\"//:\\"><\\/3a>");r b=t.J("29");b.3u=s(){9(7.32=="2s"){T.L()}};@4e@*/}};r 3s=s(a){T.2L(a)};T.1d();',62,265,'|||||||this||if||||||||||||||||||var|function|document|true|style|||false||MouseDrag|window|setAttribute|ImageFlowID|childNodes|imagesDiv|else|ImageFlowDiv|px|getElementById|null|run|break|Math|iWidth|busy|round|appendChild|max|domReadyEvent|return|100|pc|zIndex|for|newSliderX||addEventListener|id|imageID||setTimeout|current|height|createElement|xStep|getAttribute|domReadyID|width|init|opacity|div|reflectionP|case|class|scrollbarWidth|className|size|sliderWidth|length|glideTo|opacityArray|addEvent|imageFocusM|target|slider|events|default|switch|object|display|typeof|bDone|scrollbarDiv|memTarget|firstRefresh|firstCheck|onresize|captionDiv|event|schedule|visibility|onload|mouseX|reflections|nodeType|Key|pcMem|refresh|undefined|none|setOpacity|moveTo|handleMouseWheel|completed|sliderDiv|maxHeight|indexArray|_loading_txt|nodeName||IMG|loadingProgress|imageFocusMax|loading|startID|reflectionGET|__ie_onload|DOMContentLoadedCustom|stop|name|url|_scrollbar|maxFocus|src|visible|reflectionPNG|preloadImages|newX|imageCursor|startAnimation|body|animate|captions|eventMouseWheel|defaults|complete|sliderCursor|images|objectX|onClick|scrollbar|_slider|createTextNode|50|offsetWidth|test|handle|_images|loadingStatus|createStructure|attachEvent|wheelDelta|_loading_bar|detail|add|_caption|onclick|preventDefault|scrollLeft|load|get|marginLeft|118|cursor|start|loading_bar|drag|caption|mouseup|left|_loading|readyState|pageX||getElementsByTagName|clientX||initMouseWheel||script|addResizeEvent|marginTop|filter|alpha|new|DOMMouseScroll|firstChild|_win64|php|innerHTML|150|block|onmousewheel|remove|338|navigator|1000|domReady|120|onreadystatechange|03|02|replaceChild|onunload|imageflow|returnValue|WebKit|5085|loaded|onmousedown|250|resize|cc_on|longdesc|cloneNode|mousemove|xPosition|Array|paddingTop|reflect|onselectstart|top|offsetLeft|delete|location|in|KHTML|ImageFlow|alt|removeChild|userAgent||documentElement|nbsp|onkeydown|img|hidden|DOMContentLoaded|5000|51|_win32|write|keyCode|defer|sqrt|end|on|10000'.split('|'),0,{}))

/* Create ImageFlow instances when the DOM structure has been loaded */
domReady(function()
{
	var instanceOne = new ImageFlow();
	instanceOne.init({ ImageFlowID:'myImageFlow' });
});