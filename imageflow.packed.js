/*
Name:       ImageFlow
Version:    1.3.0 (March 9 2010)
Author:     Finn Rudolph
Support:    http://finnrudolph.de/ImageFlow

License:    ImageFlow is licensed under a Creative Commons
            Attribution-Noncommercial 3.0 Unported License
            (http://creativecommons.org/licenses/by-nc/3.0/).

            You are free:
                + to Share - to copy, distribute and transmit the work
                + to Remix - to adapt the work

            Under the following conditions:
                + Attribution. You must attribute the work in the manner specified by the author or licensor
                  (but not in any way that suggests that they endorse you or your use of the work).
                + Noncommercial. You may not use this work for commercial purposes.

            + For any reuse or distribution, you must make clear to others the license terms of this work.
            + Any of the above conditions can be waived if you get permission from the copyright holder.
            + Nothing in this license impairs or restricts the author's moral rights.

Credits:    This script is based on Michael L. Perrys Cover flow in Javascript [1].
            The reflections are generated server-sided by a slightly hacked version
            of Richard Daveys easyreflections [2] written in PHP. The mouse wheel
            support is an implementation of Adomas Paltanavicius JavaScript mouse
            wheel code [3]. It also uses the domReadyEvent from Tanny O'Haley [4].

            [1] http://www.adventuresinsoftware.com/blog/?p=104#comment-1981
            [2] http://reflection.corephp.co.uk/v2.php
            [3] http://adomas.org/javascript-mouse-wheel/
            [4] http://tanny.ica.com/ICA/TKO/tkoblog.nsf/dx/domcontentloaded-for-browsers-part-v
*/

/* ImageFlow - compressed with http://dean.edwards.name/packer/ */
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('d 4B(){b.2p={4b:50,2X:1.4H,2U:g,3I:l,19:g,3G:\'1B\',L:\'4E\',2q:1.0,A:4,4i:\'\',2z:l,3m:0.4z,3F:1.0,33:d(){n.4A=b.2n},2d:g,2e:[10,8,6,4,2],3k:\'4K\'2Z:4S,31:16,3J:l,2R:l,42:\'\',1U:0.5,4k:g,3Q:\'\',3p:0.6,3b:l,3q:\'e-4y\',1y:14,1u:g,46:4T,4c:g,3u:1,3t:l,3x:g,1e:4U};a 7=b;b.Q=d(2M){Y(a 1q 4o 7.2p){b[1q]=(2M!==1A&&2M[1q]!==1A)?2M[1q]:7.2p[1q]}a s=n.N(7.L);9(s){s.k.1J=\'2m\';b.s=s;9(b.4l()){b.q=n.N(7.L+\'4Q\');b.1O=n.N(7.L+\'4N\');b.1j=n.N(7.L+\'4O\');b.12=n.N(7.L+\'4V\');b.1I=n.N(7.L+\'4p\');b.2L=n.N(7.L+\'4q\');b.2J=n.N(7.L+\'4s\');b.25=n.N(7.L+\'4r\');b.26=[];b.1F=0;b.f=0;b.18=0;b.1S=0;b.2v=l;b.2o=l;b.I=g;a 1c=b.s.3E;a S=T.W(1c/7.2X);n.N(7.L+\'3i\').k.3M=((S*0.5)-22)+\'F\';s.k.S=S+\'F\';b.2f()}}};b.4l=d(){a q=7.m.P(\'X\',\'2A\');a D,2W,1z,Z;a j=7.s.r.1C;Y(a v=0;v<j;v++){D=7.s.r[v];9(D&&D.2E==1&&D.2D==\'2x\'){9(7.2R===l){2W=(7.4k)?\'3\':\'2\';1z=7.4i+D.1w(\'1z\',2);1z=7.3Q+\'4u\'+2W+\'.4w?4v=\'+1z+7.42;D.2G(\'1z\',1z)}Z=D.27(l);q.J(Z)}}9(7.19){a 1N=7.m.P(\'X\',\'2A\');a 1t=7.m.P(\'X\',\'2A\');j=q.r.1C;9(j<7.A){7.A=j}9(j>1){a i;Y(i=0;i<j;i++){D=q.r[i];9(i<7.A){Z=D.27(l);1N.J(Z)}9(j-i<7.A+1){Z=D.27(l);1t.J(Z)}}Y(i=0;i<j;i++){D=q.r[i];Z=D.27(l);1t.J(Z)}Y(i=0;i<7.A;i++){D=1N.r[i];Z=D.27(l);1t.J(Z)}q=1t}}9(7.1u){a 3P=7.m.P(\'X\',\'1u\');q.J(3P)}a 1K=7.m.P(\'p\',\'4t\');a 49=n.3A(\' \');1K.J(49);a 34=7.m.P(\'X\',\'3y\');a 3X=7.m.P(\'X\',\'4L\');34.J(3X);a 1O=7.m.P(\'X\',\'2a\');a 12=7.m.P(\'X\',\'4P\');a 1I=7.m.P(\'X\',\'3b\');12.J(1I);9(7.2U){a 2J=7.m.P(\'X\',\'4R\',\'3O\');a 2L=7.m.P(\'X\',\'4C\',\'3O\');12.J(2J);12.J(2L)}a 1j=7.m.P(\'X\',\'4D\');1j.J(1O);1j.J(12);a 2S=g;9(7.s.J(q)&&7.s.J(1K)&&7.s.J(34)&&7.s.J(1j)){j=7.s.r.1C;Y(v=0;v<j;v++){D=7.s.r[v];9(D&&D.2E==1&&D.2D==\'2x\'){7.s.4I(D)}}2S=l}O 2S};b.2f=d(){a p=7.3D();9((p<16||7.2o)&&7.3J){9(7.2o&&p==16){7.2o=g;B.1s(7.2f,16)}t{B.1s(7.2f,40)}}t{n.N(7.L+\'3i\').k.1X=\'36\';n.N(7.L+\'4G\').k.1X=\'36\';B.1s(7.m.3K,4F);7.2N();9(7.j>1){7.1i.Q();7.y.Q();7.C.Q();7.2y.Q();9(7.1u){7.G.Q()}9(7.3b){7.12.k.1J=\'2m\'}}}};b.3D=d(){a j=7.q.r.1C;a i=0,20=0;a c=V;Y(a v=0;v<j;v++){c=7.q.r[v];9(c&&c.2E==1&&c.2D==\'2x\'){9(c.43){20++}i++}}a 28=T.W((20/i)*16);a 3n=n.N(7.L+\'4J\');3n.k.1c=28+\'%\';9(7.19){i=i-(7.A*2);20=(28<1)?0:T.W((i/16)*28)}a 1K=n.N(7.L+\'3i\');a 3B=n.3A(\'3y 2A \'+20+\'/\'+i);1K.4M(3B,1K.4x);O 28};b.2N=d(){b.R=7.q.3E+7.q.4j;b.1x=T.W(7.R/7.2X);b.21=7.A*7.1e;b.1P=7.R*0.5;b.1y=7.1y*0.5;b.1b=(7.R-(T.W(7.1y)*2))*7.3p;b.2O=T.W(7.1x*7.3m);7.s.k.S=7.1x+\'F\';7.q.k.S=7.2O+\'F\';7.1j.k.S=(7.1x-7.2O)+\'F\';7.1O.k.1c=7.R+\'F\';7.1O.k.3M=T.W(7.R*0.3l)+\'F\';7.12.k.1c=7.1b+\'F\';7.12.k.54=T.W(7.R*0.3l)+\'F\';7.12.k.32=T.W(7.1y+((7.R-7.1b)/2))+\'F\';7.1I.k.3H=7.3q;7.1I.5B=d(){7.y.1D(b);O g};9(7.2U){7.2J.1l=d(){7.1i.15(1)};7.2L.1l=d(){7.1i.15(-1)}}a 3s=(7.2R===l)?7.1U+1:1;a j=7.q.r.1C;a i=0;a c=V;Y(a v=0;v<j;v++){c=7.q.r[v];9(c!==V&&c.2E==1&&c.2D==\'2x\'){b.26[i]=v;c.2n=c.1w(\'5C\');c.5D=(-i*7.1e);c.i=i;9(7.2v){9(c.1w(\'1c\')!==V&&c.1w(\'S\')!==V){c.w=c.1w(\'1c\');c.h=c.1w(\'S\')*3s}t{c.w=c.1c;c.h=c.S}}9((c.w)>(c.h/(7.1U+1))){c.1f=7.2Z;c.2h=7.2Z}t{c.1f=7.31;c.2h=7.31}9(7.2z===g){c.k.5E=\'5z\';c.k.1X=\'5y\'}c.k.3H=7.3G;i++}}b.j=7.26.1C;9(7.2z===g){c=7.q.r[7.26[0]];b.3v=c.w*7.j;c.k.5t=(7.R/2)+(c.w/2)+\'F\';7.q.k.S=c.h+\'F\';7.1j.k.S=(7.1x-c.h)+\'F\'}9(7.2v){7.2v=g;7.f=7.3u-1;9(7.f<0){7.f=0}9(7.19){7.f=7.f+7.A}3e=(7.19)?(7.j-(7.A))-1:7.j-1;9(7.f>3e){7.f=3e}9(7.3t===g){7.1Q(-7.f*7.1e)}9(7.3x){7.1Q(5s)}}9(7.j>1){7.1L(7.f)}7.1Q(7.1F)};b.1Q=d(x){b.1F=x;b.1p=7.j;Y(a v=0;v<7.j;v++){a c=7.q.r[7.26[v]];a 23=v*-7.1e;9(7.2z){9((23+7.21)<7.1S||(23-7.21)>7.1S){c.k.1J=\'3z\';c.k.1X=\'36\'}t{a z=(T.5u(5v+x*x)+16)*7.3F;a 3r=x/z*7.1P+7.1P;c.k.1X=\'5x\';a 1d=(c.h/c.w*c.1f)/z*7.1P;a 1T=0;1E(1d>7.1x){1g g:1T=c.1f/z*7.1P;M;1B:1d=7.1x;1T=c.w*1d/c.h;M}a 3j=(7.2O-1d)+((1d/(7.1U+1))*7.1U);1E(7.3k){1g\'3C\':M;1g\'5w\':3j-=(c.h-1d)/2;M;1B:M}c.k.44=3r-(c.1f/2)/z*7.1P+\'F\';9(1T&&1d){c.k.S=1d+\'F\';c.k.1c=1T+\'F\';c.k.3C=3j+\'F\'}c.k.1J=\'2m\';1E(x<0){1g l:b.1p++;M;1B:b.1p=7.1p-1;M}1E(c.i==7.f){1g g:c.1l=d(){7.1L(b.i)};M;1B:b.1p=7.1p+1;9(c.2n!==\'\'){c.1l=7.33}M}c.k.1p=7.1p}}t{9((23+7.21)<7.1S||(23-7.21)>7.1S){c.k.1J=\'3z\'}t{c.k.1J=\'2m\';1E(c.i==7.f){1g g:c.1l=d(){7.1L(b.i)};M;1B:9(c.2n!==\'\'){c.1l=7.33}M}}7.q.k.32=(x-7.3v)+\'F\'}x+=7.1e}};b.1L=d(f){a 2c,1G;9(7.19){9(f+1===7.A){1G=7.j-7.A;2c=-1G*7.1e;f=1G-1}9(f===(7.j-7.A)){1G=7.A-1;2c=-1G*7.1e;f=1G+1}}a x=-f*7.1e;b.18=x;b.1S=x;b.f=f;a 2a=7.q.r[f].1w(\'5I\');9(2a===\'\'||7.3I===g){2a=\' \'}7.1O.5O=2a;9(7.y.I===g){9(7.19){b.17=((f-7.A)*7.1b)/(7.j-(7.A*2)-1)-7.y.E}t{b.17=(f*7.1b)/(7.j-1)-7.y.E}7.1I.k.32=(7.17-7.1y)+\'F\'}9(7.2d===l||7.2q!==7.2p.2q){7.m.2K(7.q.r[f],7.2e[0]);7.q.r[f].1f=7.q.r[f].1f*7.2q;a 29=0;a 1M=0;a 1R=0;a 1t=7.2e.1C;Y(a i=1;i<(7.A+1);i++){9((i+1)>1t){29=7.2e[1t-1]}t{29=7.2e[i]}1M=f+i;1R=f-i;9(1M<7.j){7.m.2K(7.q.r[1M],29);7.q.r[1M].1f=7.q.r[1M].2h}9(1R>=0){7.m.2K(7.q.r[1R],29);7.q.r[1R].1f=7.q.r[1R].2h}}}9(2c){7.1Q(2c)}9(7.I===g){7.I=l;7.2Q()}};b.2Q=d(){1E(7.18<7.1F-1||7.18>7.1F+1){1g l:7.1Q(7.1F+(7.18-7.1F)/3);B.1s(7.2Q,7.4b);7.I=l;M;1B:7.I=g;M}};b.2B=d(f){9(7.1u){7.G.2j()}7.1L(f)};b.G={2r:1,Q:d(){(7.4c)?7.G.1D():7.G.1h()},2j:d(){7.m.2V(7.s,\'4d\',7.G.2j);7.G.1h()},47:d(){7.m.11(7.s,\'4d\',7.G.2j)},1D:d(){7.m.2H(7.25,\'1u 5Q\');7.25.1l=d(){7.G.1h()};7.G.48=B.5M(7.G.2P,7.46);B.1s(7.G.47,16)},1h:d(){7.m.2H(7.25,\'1u 5H\');7.25.1l=d(){7.G.1D()};B.4W(7.G.48)},2P:d(){a 1n=7.f+7.G.2r;a 2s=g;9(1n===7.j){7.G.2r=-1;2s=l}9(1n<0){7.G.2r=1;2s=l}(2s)?7.G.2P():7.1L(1n)}};b.1i={Q:d(){9(B.1r){7.s.1r(\'5K\',7.1i.24,g)}7.m.11(7.s,\'5J\',7.1i.24)},24:d(u){a 1H=0;9(!u){u=B.u}9(u.4e){1H=u.4e/5L}t 9(u.4f){1H=-u.4f/3}9(1H){7.1i.15(1H)}7.m.2I(u)},15:d(1H){a 2l=g;a 1n=0;9(1H>0){9(7.f>=1){1n=7.f-1;2l=l}}t{9(7.f<(7.j-1)){1n=7.f+1;2l=l}}9(2l){7.2B(1n)}}};b.y={1m:V,3a:0,2t:0,E:0,I:g,Q:d(){7.m.11(7.s,\'5P\',7.y.4g);7.m.11(7.s,\'4n\',7.y.1h);7.m.11(n,\'4n\',7.y.1h);7.s.5N=d(){a 35=l;9(7.y.I){35=g}O 35}},1D:d(o){7.y.1m=o;7.y.3a=7.y.2t-o.4j+7.17},1h:d(){7.y.1m=V;7.y.I=g},4g:d(e){a 2k=0;9(!e){e=B.u}9(e.2T){2k=e.2T}t 9(e.4h){2k=e.4h+n.3d.45+n.5r.45}7.y.2t=2k;9(7.y.1m!==V){a E=(7.y.2t-7.y.3a)+7.1y;9(E<(-7.17)){E=-7.17}9(E>(7.1b-7.17)){E=7.1b-7.17}a 1V,f;9(7.19){1V=(E+7.17)/(7.1b/(7.j-(7.A*2)-1));f=T.W(1V)+7.A}t{1V=(E+7.17)/(7.1b/(7.j-1));f=T.W(1V)}7.y.E=E;7.y.1m.k.44=E+\'F\';9(7.f!==f){7.2B(f)}7.y.I=l}}};b.C={x:0,3f:0,2C:0,I:g,1N:l,Q:d(){7.m.11(7.1j,\'57\',7.C.1D);7.m.11(n,\'56\',7.C.15);7.m.11(n,\'58\',7.C.1h)},41:d(e){a 38=g;9(e.2u){a 18=e.2u[0].18;9(18===7.1j||18===7.1I||18===7.12){38=l}}O 38},3g:d(e){a x=0;9(e.2u){x=e.2u[0].2T}O x},1D:d(e){7.C.3f=7.C.3g(e);7.C.I=l;7.m.2I(e)},3U:d(){a I=g;9(7.C.I){I=l}O I},15:d(e){9(7.C.3U&&7.C.41(e)){a j=(7.19)?(7.j-(7.A*2)-1):(7.j-1);9(7.C.1N){7.C.2C=(j-7.f)*(7.R/j);7.C.1N=g}a E=-(7.C.3g(e)-7.C.3f-7.C.2C);9(E<0){E=0}9(E>7.R){E=7.R}7.C.x=E;a f=T.W(E/(7.R/j));f=j-f;9(7.f!==f){9(7.19){f=f+7.A}7.2B(f)}7.m.2I(e)}},1h:d(){7.C.2C=7.C.x;7.C.I=g}};b.2y={Q:d(){n.55=d(u){7.2y.15(u)}},15:d(u){a 3W=7.2y.24(u);1E(3W){1g 39:7.1i.15(-1);M;1g 37:7.1i.15(1);M}},24:d(u){u=u||B.u;O u.4Y}};b.m={11:d(H,K,U){9(H.1r){H.1r(K,U,g)}t 9(H.4a){H["e"+K+U]=U;H[K+U]=d(){H["e"+K+U](B.u)};H.4a("3L"+K,H[K+U])}},2V:d(H,K,U){9(H.3S){H.3S(K,U,g)}t 9(H.3N){9(H[K+U]===1A){4X(\'m.2V » 4Z 3V 3Z u 51 1A - 53 52 5b 5c 3V 3Z 5m 5l u?\')}H.3N(\'3L\'+K,H[K+U]);H[K+U]=V;H[\'e\'+K+U]=V}},2K:d(1m,2Y){9(7.2d===l){1m.k.2d=2Y/10;1m.k.5n=\'5o(2d=\'+2Y*10+\')\'}},P:d(K,1W,3h){a 1k=n.5k(K);1k.2G(\'1W\',7.L+\'5j\'+1W);9(3h!==1A){1W+=\' \'+3h}7.m.2H(1k,1W);O 1k},2H:d(1k,2F){9(1k){1k.2G(\'5e\',2F);1k.2G(\'2F\',2F)}},2I:d(e){9(e.4m){e.4m()}t{e.5f=g}O g},3K:d(){a 30=B.2w;9(2b B.2w!=\'d\'){B.2w=d(){7.2N()}}t{B.2w=d(){9(30){30()}7.2N()}}}}}a 1o={1q:"1o",1Z:{},1v:1,1Y:g,3c:V,3o:d(13){9(!13.$$1v){13.$$1v=b.1v++;9(b.1Y){13()}b.1Z[13.$$1v]=13}},5g:d(13){9(13.$$1v){5i b.1Z[13.$$1v]}},1a:d(){9(b.1Y){O}b.1Y=l;Y(a i 4o b.1Z){b.1Z[i]()}},2i:d(){9(b.1Y){O}9(/5h|5q/i.3T(5d.5p)){9(/5a|43/.3T(n.59)){b.1a()}t{1s(b.1q+".2i()",16)}}t 9(n.N("5R")){O l}9(2b b.3c==="d"){9(2b n.3R!==\'1A\'&&(n.3R(\'3d\')[0]!==V||n.3d!==V)){9(b.3c()){b.1a()}t{1s(b.1q+".2i()",5F)}}}O l},Q:d(){9(n.1r){n.1r("5G",d(){1o.1a()},g)}1s("1o.2i()",16);d 1a(){1o.1a()}9(2b 11!=="1A"){11(B,"3Y",1a)}t 9(n.1r){n.1r("3Y",1a,g)}t 9(2b B.2g==="d"){a 3w=B.2g;B.2g=d(){1o.1a();3w()}}t{B.2g=1a}}};a 5A=d(13){1o.3o(13)};1o.Q();',62,364,'|||||||my||if|var|this|image|function||imageID|false|||max|style|true|Helper|document|||imagesDiv|childNodes|ImageFlowDiv|else|event|index|||MouseDrag||imageFocusMax|window|Touch|node|newX|px|Slideshow|obj|busy|appendChild|type|ImageFlowID|break|getElementById|return|createDocumentElement|init|imagesDivWidth|height|Math|fn|null|round|div|for|imageNode||addEvent|scrollbarDiv|handler||handle|100|newSliderX|target|circular|run|scrollbarWidth|width|newImageH|xStep|pc|case|stop|MouseWheel|navigationDiv|element|onclick|object|newImageID|domReadyEvent|zIndex|name|addEventListener|setTimeout|last|slideshow|domReadyID|getAttribute|maxHeight|sliderWidth|src|undefined|default|length|start|switch|current|clonedImageID|delta|sliderDiv|visibility|loadingP|glideTo|rightID|first|captionDiv|size|moveTo|leftID|memTarget|newImageW|reflectionP|step|id|display|bDone|events|completed|maxFocus||currentImage|get|buttonSlideshow|indexArray|cloneNode|finished|opacityValue|caption|typeof|jumpTarget|opacity|opacityArray|loadingProgress|onload|pcMem|schedule|interrupt|posx|change|visible|url|firstCheck|defaults|imageFocusM|direction|reverseDirection|mouseX|touches|firstRefresh|onresize|IMG|Key|imageScaling|images|glideOnEvent|stopX|nodeName|nodeType|className|setAttribute|setClassName|suppressBrowserDefault|buttonPreviousDiv|setOpacity|buttonNextDiv|options|refresh|imagesDivHeight|slide|animate|reflections|success|pageX|buttons|removeEvent|version|aspectRatio|value|percentLandscape|otherFunctions|percentOther|marginLeft|onClick|loadingDiv|selection|none||state||objectX|slider|DOMContentLoadedCustom|body|maxId|startX|getX|optionalClass|_loading_txt|newImageTop|orientation|02|imagesHeight|loadingBar|add|scrollbarP|sliderCursor|xs|multi|glideToStartID|startID|totalImagesWidth|oldonload|startAnimation|loading|hidden|createTextNode|loadingTxt|top|loadingStatus|offsetWidth|imagesM|imageCursor|cursor|captions|preloadImages|addResizeEvent|on|paddingTop|detachEvent|button|slideshowButton|reflectPath|getElementsByTagName|removeEventListener|test|isBusy|to|charCode|loadingBarDiv|load|detach||isOnNavigationDiv|reflectionGET|complete|left|scrollLeft|slideshowSpeed|addInterruptEvent|action|loadingText|attachEvent|animationSpeed|slideshowAutoplay|click|wheelDelta|detail|drag|clientX|imagePath|offsetLeft|reflectionPNG|createStructure|preventDefault|mouseup|in|_slider|_next|_slideshow|_previous|loading_txt|reflect|img|php|firstChild|resize|67|location|ImageFlow|next|navigation|imageflow|1000|_loading|964|removeChild|_loading_bar|bottom|loading_bar|replaceChild|_caption|_navigation|scrollbar|_images|previous|118|1500|150|_scrollbar|clearInterval|alert|keyCode|Pointer||is|you|perhaps|marginTop|onkeydown|touchmove|touchstart|touchend|readyState|loaded|are|trying|navigator|class|returnValue|remove|KHTML|delete|_|createElement|unattached|an|filter|alpha|userAgent|WebKit|documentElement|5000|paddingLeft|sqrt|10000|middle|block|inline|relative|domReady|onmousedown|longdesc|xPosition|position|250|DOMContentLoaded|play|alt|mousewheel|DOMMouseScroll|120|setInterval|onselectstart|innerHTML|mousemove|pause|__ie_onload'.split('|'),0,{}))

/* Create ImageFlow instances when the DOM structure has been loaded */
domReady(function()
{
	var instanceOne = new ImageFlow();
	instanceOne.init({ ImageFlowID:'myImageFlow' });
});